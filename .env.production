# =============================================
# AI Sentinel - Production Environment Configuration
# Enterprise-grade security and scalability
# =============================================

# Environment Configuration
# =========================
ENV=production
APP_NAME=ai_sentinel
APP_VERSION=1.0.0
INSTANCE_ID=ai-sentinel-prod-001

# Security & Encryption
# =====================
# Note: In production, these should be managed by Vault/KMS/Secret Manager
ENCRYPTION_KEY=base64:your-256-bit-encryption-key-base64-here
JWT_SECRET=your-super-secure-jwt-secret-minimum-32-chars
JWT_EXPIRY_HOURS=24
SIGNING_KEY_PATH=/secrets/signing_key.pem
VERIFICATION_KEY_PATH=/secrets/verification_key.pem
CORS_ORIGINS=https://app.yourcompany.com,https://admin.yourcompany.com

# Database Configuration (Dynamic)
# ================================
DATABASE_HOST=db-cluster.internal.company.com
DATABASE_PORT=5432
DATABASE_USER=ai_sentinel_user
DATABASE_PASS=secure-production-password-2024
DATABASE_NAME=ai_sentinel_production
DATABASE_SSL_MODE=require
DATABASE_POOL_SIZE=20
DATABASE_MAX_OVERFLOW=30
DATABASE_POOL_RECYCLE=3600

# Construct DATABASE_URL from components
DATABASE_URL=postgresql://${DATABASE_USER}:${DATABASE_PASS}@${DATABASE_HOST}:${DATABASE_PORT}/${DATABASE_NAME}?sslmode=${DATABASE_SSL_MODE}

# HashiCorp Vault Configuration
# =============================
VAULT_ENABLED=true
VAULT_ADDR=https://vault-prod.company.com:8200
VAULT_NAMESPACE=ai-sentinel
VAULT_SECRET_PATH=secret/ai_sentinel/production
VAULT_AUTH_METHOD=kubernetes  # kubernetes, token, or approle

# AWS/KMS Configuration (Alternative to Vault)
# ============================================
AWS_KMS_ENABLED=false
AWS_KMS_KEY_ID=alias/ai-sentinel-encryption-key
AWS_REGION=us-east-1

# Monitoring & Observability
# ==========================
PROMETHEUS_PORT=9090
METRICS_ENABLED=true
HEALTH_CHECK_PORT=8081
LOG_LEVEL=INFO
LOG_FORMAT=json

# External Monitoring Services
SENTRY_DSN=https://your-sentry-dsn@o123456.ingest.sentry.io/1234567
DATADOG_API_KEY=your-datadog-api-key
NEW_RELIC_LICENSE_KEY=your-new-relic-license-key

# Performance & Scaling
# =====================
ENABLE_GPU=true
GPU_DEVICE_IDS=0,1  # Comma-separated GPU IDs
MAX_WORKERS=4
FEATURE_CACHE_DIR=/var/cache/ai_sentinel
CACHE_TTL_MINUTES=60
MAX_FILE_SIZE_MB=1024  # 1GB maximum file size

# Model Scanning Configuration
# ============================
SCAN_TIMEOUT_SECONDS=300
MAX_CONCURRENT_SCANS=10
THREAT_SCORE_THRESHOLD=0.7
CONFIDENCE_THRESHOLD=0.8

# Supported Model Formats
SUPPORTED_FORMATS=.pt,.pth,.onnx,.h5,.hdf5,.pb,.tflite,.safetensors

# API & Network Configuration
# ===========================
API_HOST=0.0.0.0
API_PORT=8000
API_WORKERS=4
API_MAX_REQUESTS=1000
API_TIMEOUT=300

# Load Balancer & Proxy
BEHIND_PROXY=true
TRUSTED_PROXIES=10.0.0.0/8,172.16.0.0/12,192.168.0.0/16

# Storage Configuration
# =====================
UPLOAD_DIR=/var/uploads/ai_sentinel
MAX_UPLOAD_SIZE_MB=100
TEMP_DIR=/tmp/ai_sentinel
BACKUP_DIR=/var/backups/ai_sentinel

# External Storage (S3/GCS)
CLOUD_STORAGE_ENABLED=true
CLOUD_STORAGE_PROVIDER=aws  # aws, gcp, azure
S3_BUCKET=ai-sentinel-models
S3_REGION=us-east-1
S3_PREFIX=scans/

# Security Headers & Policies
# ===========================
SECURITY_HEADERS_ENABLED=true
CSP_POLICY="default-src 'self'; script-src 'self' 'unsafe-inline'"
HSTS_ENABLED=true
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW=60

# Backup & Disaster Recovery
# ==========================
BACKUP_ENABLED=true
BACKUP_SCHEDULE="0 2 * * *"  # Daily at 2 AM
BACKUP_RETENTION_DAYS=30
DISASTER_RECOVERY_ENABLED=true

# Alerting & Notifications
# ========================
ALERT_WEBHOOK_URL=https://hooks.slack.com/services/your-webhook
ALERT_EMAILS=security-team@company.com,ai-ops@company.com
HIGH_THREAT_NOTIFICATIONS=true

# Feature Flags
# =============
FEATURE_ANALYTICS_DASHBOARD=true
FEATURE_REAL_TIME_SCANNING=true
FEATURE_BATCH_PROCESSING=true
FEATURE_ADVANCED_METRICS=true
FEATURE_THREAT_INTELLIGENCE=true

# External Integrations
# =====================
VIRUSTOTAL_API_KEY=your-virustotal-api-key
MALWAREBAZAAR_API_KEY=your-malwarebazaar-api-key
THREAT_INTEL_ENABLED=true

# Kubernetes/Container Configuration
# ==================================
KUBERNETES_NAMESPACE=ai-sentinel
POD_MEMORY_LIMIT=4Gi
POD_CPU_LIMIT=2000m
SERVICE_ACCOUNT=ai-sentinel-service-account

# Resource Limits
# ===============
MEMORY_LIMIT_PERCENT=80
CPU_LIMIT_PERCENT=75
DISK_SPACE_THRESHOLD_PERCENT=85

# Maintenance Windows
# ===================
MAINTENANCE_WINDOW_START="02:00"
MAINTENANCE_WINDOW_END="04:00"
MAINTENANCE_TIMEZONE="UTC"

# Debugging & Development (Disabled in production)
# ================================================
DEBUG=false
SQL_ECHO=false
ENABLE_SWAGGER=false